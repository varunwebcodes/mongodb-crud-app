<% layout("/layouts/boilerplate.ejs") %>

<div class="container mt-5 mb-5 ">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-md-11">

      <div class="card shadow-sm border-0 overflow-hidden">

        <!-- Landscape Image -->
        <div class="text-center bg-light">
          <img
            src="<%= listing.image %>"
            alt="<%= listing.title %>"
            class="img-fluid w-100"
            style="height: 360px; object-fit: cover;"
          >
        </div>

        <!-- Body -->
        <div class="card-body p-4 mb-5">

          <h3 class="fw-semibold mb-2"><%= listing.title %></h3>
          <p class="text-muted mb-4"><%= listing.description %></p>

          <div class="row mb-4">
            <div class="col-md-6">
              <p class="mb-1"><strong>Price:</strong></p>
              <p>â‚¹ <%= listing.price.toLocaleString("en-IN") %> / night</p>
            </div>

            <div class="col-md-6">
              <p class="mb-1"><strong>Location:</strong></p>
              <p><%= listing.location %>, <%= listing.country %></p>
            </div>
          </div>

          <!-- Actions -->
          <div class="d-flex flex-wrap gap-2">

            <a href="/listings/<%= listing._id %>/edit" class="btn btn-outline-primary">
              Edit
            </a>

            <form
              method="POST"
              action="/listings/<%= listing._id %>?_method=DELETE"
              onsubmit="return confirm('Are you sure you want to delete this listing?');"
            >
              <button class="btn btn-outline-danger">
                Delete
              </button>
            </form>

          </div>

        </div>

      </div>

    </div>
  </div>
</div>
